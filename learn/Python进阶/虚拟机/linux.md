## linux 发行版本

### Ubuntu、Centos、Redhat

- 常用的 Linux 操作系统都是基于 Linux 内核开发的
- Linux 内核是 Linux 操作系统管理硬件设备的核心程序

## Linux 命令

复制粘贴：ctrl+shift+c ctrl+shift+v 

1. 查看目录命令
   | 命令           | 说明                     |
   | -------------- | ------------------------ |
   | ls             | 查看当前路径下的目录信息 |
   | tree           | 以树状方式显示目录       |
   | pwd            | 查看当前目录路径         |
   | clear          | 清除终端内容             |
   | ctrl+shift+"+" | 放大窗口字体             |
   | ctrl+"-"       | 缩小窗口字体             |
| ll             | 显示详细文件信息         |
   

   
2. 切换目录命令
   | 命令    | 说明                 |
   | ------- | -------------------- |
   | cd 目录 | 切换到指定目录       |
   | cd ~    | 切换到当前用户主目录 |
   | cd ..   | 切换到上级目录       |
   | cd .    | 切换到当前目录       |
   | cd -    | 切换到上一次目录     |

   

3. 绝对路径和相对路径

   - 绝对路径：从根目录算起的路径叫绝对路径
   - 相对路径：从当前目录算起的路径叫相对路径
   - 代码编写中建议绝对路径（？

   

4. 创建、删除文件和目录命令

   | 命令                         | 说明                 |
   | ---------------------------- | -------------------- |
   | touch 文件名                 | 创建制定文件         |
   | mkdir 目录名                 | 创建目录（文件夹）   |
   | rm 文件名                    | 删除指定文件         |
   | rm 目录名 -r（循环递归拷贝） | 删除目录及里面的内容 |
   | rmdir 目录名                 | 删除（空）目录       |

   

5. 复制、移动文件和目录命令

   | 命令                                                         | 说明                       |
   | ------------------------------------------------------------ | -------------------------- |
   | cp 原文件 目的地址（无则是当前目录，则不能同名）![image-20250221150955063](img/image-20250221150955063.png) | 复制（拷贝）文件、拷贝目录 |
   | mv![image-20250221150819053](img/image-20250221150819053.png)![image-20250221151026895](img/image-20250221151026895.png) | 移动文件、移动目录、重命名 |

   
   
6. 终端命令格式的组成

   1. 终端命令格式说明

      command [-options] [parameter]

      - command：命令名，比如ls、pwd
      - [-options]：选项，可以有零个、一个或者多个，多个选项可以合并，比如-r；用于调整命令的功能
      - [parameter]：参数，可以有零个、一个或者多个，比如touch 文件名、mkdir 目录名、cd 目标目录（路径），这些文件名和目录名都是参数；命令的操作对象，一般是文件名或者目录名
      - []：代表可选

      

7. 查看命令帮助的方式

   | 命令帮助操作 | 说明           |
   | ------------ | -------------- |
   | --help       | command --help |
   | man          | man command    |

   man的操作键

   | 操作键 | 说明           |
   | ------ | -------------- |
   | 空格   | 显示下一屏信息 |
   | 回车   | 显示下一行信息 |
   | b      | 显示上衣屏信息 |
   | q      | 退出           |



## 命令选项

### 1、查看目录信息命令选项

1. ls命令选项

   | 命令选项 | 说明                       |
   | -------- | -------------------------- |
   | -l       | 以列表方式显示，默认是字节 |
   | -h       | 智能的显示文件大小         |
   | -a       | 显示隐藏文件和目录         |

   

### 2、创建、删除文件夹命令选项

1. mkdir命令选项

   | 命令选项                                                     | 说明                               |
   | ------------------------------------------------------------ | ---------------------------------- |
   | -p![image-20250221164111353](img/image-20250221164111353.png) | 创建所依赖的文件夹（创建嵌套目录） |

   

2. rm命令选项

   | 命令选项 | 说明                                 |
   | -------- | ------------------------------------ |
   | -i       | 交互式提示                           |
   | -r       | 递归删除目录及内容                   |
   | -f       | 强制删除，忽略不存在的文件，无需提示 |

### 3、拷贝、移动文件和文件夹命令选项

1. cp命令选项

   | 命令选项                                                     | 说明                 |
   | ------------------------------------------------------------ | -------------------- |
   | -i![image-20250221164626975](img/image-20250221164626975.png) | 交互式提示           |
   | -r                                                           | 递归删除目录及内容   |
   | -v![image-20250221164811307](img/image-20250221164811307.png) | 显示拷贝后的路径描述 |

2. mv命令选项

   | 命令选项                                                     | 说明                 |
   | ------------------------------------------------------------ | -------------------- |
   | -i![image-20250221165005106](img/image-20250221165005106.png) | 交互式提示           |
   | -v                                                           | 显示拷贝后的路径描述 |

## 工作常用命令

### 1、重定向命令

重定向也称为输出重定向，把在终端执行命令的结果保存到目标文件。

| 命令                                                         | 说明                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| >![image-20250221165507168](img/image-20250221165507168.png) | 如果文件存在，会覆盖原有文件内容，相当于文件操作中的'w'模式<br />这里ls本来要将输出输出到终端中，但是用了>后输出到a.txt中 |
| >>                                                           | 如果文件存在，会追加写入文件末尾，相当于文件操作中的'a'模式  |



### 2、查看文件内容命令

| 命令                                                         | 说明                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| cat![image-20250221170053542](img/image-20250221170053542.png) | 查看小型文件                                                 |
| more![image-20250221170123097](img/image-20250221170123097.png)<br />![image-20250221170140398](img/image-20250221170140398.png) | 查看大型文件<br />回车 显示下一行信息<br />b  显示是上一屏信息<br />f  显示下一屏信息<br />q  退出 |
| \|![image-20250221170344866](img/image-20250221170344866.png) | 管道，一个命令的输出可以通过管道作为另一个命令的输入，相当于一个容器<br />相当于将tree的内容在more中查看 |



### 3、链接命令

1. 软链接

   类似于Windows下的快捷方式，当一个源文件的目录层级比较深，想要方便使用它可以给源文件创建一个软链接

   | 命令                                                         | 说明                                                         |
   | ------------------------------------------------------------ | ------------------------------------------------------------ |
   | ln -s![image-20250221171237010](img/image-20250221171237010.png) | 创建软链接<br />注意：如果是相对路径软链接，链接文件位置变化可能导致软链接不能使用<br />最好使用绝对路径创建软链接<br />原文件不存在则软链接不能用 |

   

### 4、查找文件内容命令

| 命令                                                         | 说明              |
| ------------------------------------------------------------ | ----------------- |
| grep![image-20250221171944190](img/image-20250221171944190.png) | 查找/搜索文件内容 |

| grep命令选项                                                 | 说明                               |
| ------------------------------------------------------------ | ---------------------------------- |
| -v![image-20250221172046761](img/image-20250221172046761.png) | 显示不包含匹配文本的所有行（除了） |
| -n![image-20250221172015845](img/image-20250221172015845.png) | 显示匹配行号                       |
| -i                                                           | 忽略大小写                         |

| grep结合正则表达式                                           | 说明                   |
| ------------------------------------------------------------ | ---------------------- |
| ^![image-20250221172219309](img/image-20250221172219309.png) | 以指定字符串开头       |
| $![image-20250221172236366](img/image-20250221172236366.png) | 以指定字符串结尾       |
| .![image-20250221172242772](img/image-20250221172242772.png) | 匹配一个非换行符的字符 |

![image-20250221172348586](img/image-20250221172348586.png)



### 5、查找文件命令

1. find命令及选项的使用

   | 选项  | 说明               |
   | ----- | ------------------ |
   | -name | 根据文件名查找文件 |

2. 通配符

   | 通配符                                                       | 说明                  |
   | ------------------------------------------------------------ | --------------------- |
   | *![image-20250221184344101](img/image-20250221184344101.png) | 代表0个或多个任意字符 |
   | ?![image-20250221184351562](img/image-20250221184351562.png) | 代表任意一个字符      |

   通配符不仅能结合find命令使用，还可以结合其他命令使用，比如：ls、mv、cp等，这里需要注意只有find命令使用通配符需要加上引号

   

### 6、压缩和解压缩命令

| 压缩格式 | 说明                                     |
| -------- | ---------------------------------------- |
| .gz      | 压缩包后缀（压缩快，但是压缩文件比较大） |
| .bz2     | 压缩包后缀（压缩慢，但是压缩文件比较小） |

| 命令 | 说明             |
| ---- | ---------------- |
| tar  | 压缩和解压缩命令 |

| tar命令选项 | 说明                               |
| ----------- | ---------------------------------- |
| -c          | 创建打包文件                       |
| -v          | 显示打包或者解包的详细信息         |
| -f          | 指定文件名称，必须放到所有选项后面 |
| -z          | 压缩（.gz）                        |
| -j          | 压缩（.bz2）                       |
| -x          | 解压缩                             |
| -C          | 解压缩到指定目录                   |

### 7、文件权限命令

![image-20250221194614473](img/image-20250221194614473.png)

![image-20250221194808000](img/image-20250221194808000.png)

1. chmod 字母法

   格式：chmod u/g/o/a+/-/=rwx 文件名

   执行python文件时，可以python3 文件  / 可以在文件首行加入 #!python3位置（#!/user/bin/python3）

   | 角色                                                         | 说明                    |
   | ------------------------------------------------------------ | ----------------------- |
   | u![image-20250221200127764](img/image-20250221200127764.png) | user 表示该文件的所有者 |
   | g                                                            | group 表示用户组        |
   | o                                                            | other 表示其他用户      |
   | a                                                            | all 表示所有用户        |

   | 操作符 | 说明     |
   | ------ | -------- |
   | +      | 增加权限 |
   | -      | 撤销权限 |
   | =      | 设置权限 |

   | 权限 | 说明     |
   | ---- | -------- |
   | r    | 可读     |
   | w    | 可写     |
   | x    | 可执行   |
   | -    | 无任何权 |

   

2. chmod数字法

   （格式：chmod 权限值 文件名）

   | 权限 | 说明                  |
   | ---- | --------------------- |
   | r    | 可读，权限是4         |
   | w    | 可写，权限是2         |
   | x    | 可执行，权限是1       |
   | -    | 无任何权限，权限值是0 |

   ![image-20250221200555619](img/image-20250221200555619.png)

   ![image-20250221200621982](img/image-20250221200621982.png)

   ![image-20250221200654119](img/image-20250221200654119.png)

   （从后往前加）

   

### 8、获取管理员权限的相关命令

| 命令    | 说明                                                     |
| ------- | -------------------------------------------------------- |
| sudo -s | 切换到root用户，获取管理员权限<br />exit  退出当前用户   |
| sudo    | 某个命令的执行需要获取管理员权限可以在执行命令前加上sudo |

|
|
|
|
|

| 其他命令        | 说明                                             |
| --------------- | ------------------------------------------------ |
| whoami          | 看当前用户是谁                                   |
| who             | 看所有用户                                       |
| passwd          | 修改当前用户密码（可能会出现密码过于简单的情况） |
| which           | 查找命令位置                                     |
| shutdown -h now | 立刻关机                                         |
| reboot          | 重启                                             |



### 9、远程登录、拷贝命令

1. ssh命令的使用

   想要使用ssh服务，需要安装相应的服务端和客户端软件

   ![image-20250221202020158](img/image-20250221202020158.png)

   安装步骤：

   1. 假如Ubuntu作为服务端，需要安装ssh服务端软件。执行命令：sudo apt-get install openssh-server        service ssh restart
   2. 客户端电脑如果是macOS系统则不需要安装ssh客户端软件，默认已经安装过了，直接可以使用ssh命令
   3. 客户端电脑如果是Windows系统则需要安装OpenSSH for Windows这个软件

   连接步骤：

   1. 查看虚拟机ip地址：ipconfig 的 inet addr字段
   2. 在客户端输入 ssh 用户名@地址
   3. 输入密码连接

   ![image-20250221203051199](img/image-20250221203051199.png)

   

2. scp命令的使用（该命令应该在windows客户端运行，即要exit退出windows的远程连接）

   scp是基于ssh进行安全的远程文件拷贝的命令，也就是说需要保证服务端和客户端安装了相应的ssh软件

   scp命令格式：

   1. 远程拷贝文件：
      - scp 本地文件 远程服务器用户名@远程服务器ip地址:指定拷贝到远程服务器的路径
      - scp 远程服务器用户名@远程服务器ip地址:远程服务器文件 指定拷贝到本地的路径
   2. 远程拷贝目录
      - scp -r 本地目录 远程服务器用户名@远程服务器ip地址:指定拷贝到远程服务器的路径
      - scp -r 远程服务器用户名@远程服务器ip地址:远程服务器目录 指定拷贝到本地的路径
      - -r 表示递归拷贝整个目录

3. FileZilla软件的使用

   **FileZilla**是一个免费开源的FTP软件，可以可视化方式上传和下载文件

## 软件安装和卸载

### 1、软件安装

| 安装方式 | 说明            |
| -------- | --------------- |
| 离线安装 | deb文件格式安装 |
| 在线安装 | apt-get方式安装 |

1. deb文件格式安装

   是Ubuntu的安装包格式，可以使用dokg命令进行软件的安装和卸载

   | 命令                   | 说明              |
   | ---------------------- | ----------------- |
   | sudo dpkg -i deb安装包 | 离线安装deb安装包 |

   

2. apt-get方式安装

   是在线安装deb软件包的命令，主要用于在线从互联网的软件仓库中搜素、安装、升级、卸载软件

   | 命令                        | 说明              |
   | --------------------------- | ----------------- |
   | sudo apt-get install 安装包 | 在线安装deb安装包 |

   

3. 更改镜像源

   因为使用apt-get命令默认是从国外的服务器下载安装软件，所以下载慢需要更改成国内的镜像源服务器

### 2、软件卸载

| 卸载方式         | 说明              |
| ---------------- | ----------------- |
| 离线安装包的卸载 | deb文件格式卸载   |
| 在线安装包的卸载 | apt-get  方式卸载 |

1. deb文件格式卸载

   命令：sudo dpkg -r 安装包名

2. apt-get 方式卸载

   命令：sudo apt-get remove 安装包名



## vim

### 1、vim介绍

1. 什么是vim

   vim是一款功能强大的文本编辑器，也是早年Vi编辑器的加强版，特色就是使用命令进行编辑，完全脱离了鼠标操作。

2. vim工作模式

   1. 注意：vim打开文件进入的是命令模式
   2. 注意：编辑模式和末行模式之间不能直接切换，都需要通过命令模式来完成

   

   - 命令模式

   - 编辑模式

   - 末行模式

     | 末行模式命令                                                 | 说明                                                         |
     | ------------------------------------------------------------ | ------------------------------------------------------------ |
     | :w                                                           | 保存                                                         |
     | :wq                                                          | 保存退出                                                     |
     | :x                                                           | 保存退出                                                     |
     | :q!![image-20250222104959354](img/image-20250222104959354.png) | 强制退出<br />注意：只用q也能退出，但是只能在文件已保存的情况下，q!是强制退出 |

     

   ![image-20250222104518235](img/image-20250222104518235.png)



### 2、vim常用命令

vim中永久显示行号：在终端`vim ~/.vimrc` ，在打开的vimrc文件中最后一行输入：set number 或者 set nu，然后保存退出。

vim搜索设置高亮：linux vim打开文档搜索字符串时，设置被搜索到字符串高亮显示。1、临时设置：vim打开文档-->命令行形式输入 set hlsearch。2、永久设置（推荐）：在~/.vimrc中配制vim ~/.vimrc，在文件中加上set hlsearch ，然后保存退出便可。

| 命令                                          | 说明                                                |
| --------------------------------------------- | --------------------------------------------------- |
| yy                                            | 复制光标所在行                                      |
| p                                             | 粘贴<br />（n）p粘贴n行                             |
| dd                                            | 删除/剪切当前行                                     |
| V                                             | 按行选中<br />注意：v与V不一样                      |
| u                                             | 撤销                                                |
| ctr+r                                         | 反撤销                                              |
| G                                             | 回到最后一行                                        |
| gg                                            | 回到第一行                                          |
| 数字+G                                        | 回到指定行                                          |
| :/搜索的内容                                  | 搜索指定内容<br />搜索找到之后按n，会遍历找到的内容 |
| :%s/要替换的内容/替换后的内容/g               | 全局替换                                            |
| .                                             | 重复上一次命令操作                                  |
| >>                                            | 往右缩进                                            |
| <<                                            | 往左缩进                                            |
| :开始行数,结束行数s/要替换的内容/替换后的内容 | 局部替换                                            |
| shift+6                                       | 回到当前行行首                                      |
| shift+4                                       | 回到当前行行末                                      |
| ctr+f                                         | 下一屏                                              |
| ctr+b                                         | 上一屏                                              |



## 多任务

### 1、多任务介绍

1. 多任务概念

   多任务是指在同一时间内执行多个任务

   例如：现在电脑安装的操作系统都是多任务操作系统，可以同时运行多个软件

2. 多任务两种表现形式

   - 并发

     ![image-20250222113452172](img/image-20250222113452172.png)

   - 并行

     ![image-20250222113501796](img/image-20250222113501796.png)

3. 要点：

   1. 使用多任务能充分利用CPU资源，提高程序执行效率，让你的程序具备处理多个任务的能力
   2. 多任务执行方式有两种：
      - 并发：在一段时间内交替执行多个任务
      - 并行：在一段时间内真正的同时一起执行多个任务



### 2、进程介绍

1. 程序中实现多任务的方式

   在Python中，想要实现多任务可以使用进程完成 

2. 进程概念

   进程（Process）是资源分配的最小单位，是操作系统进行资源分配和调度运行的基本单位，通俗理解：一个正在运行的程序就是一个进程

   例如：正在运行的qq，微信等，都是进程

   ![image-20250222113945693](img/image-20250222113945693.png) 

3. 多进程作用

   ![image-20250222114239998](img/image-20250222114239998.png)

   ![image-20250222114332220](img/image-20250222114332220.png)

4. 知识要点

   1. 进程（Process）是资源分配的最小单位

   2. 多进程是Python程序中实现多任务的一种方式，使用多进程可以大大提高程序的执行效率

      

### 3、多进程完成多任务

1. 进程的创建步骤

   1. 导入进程包

      import multiprocessing

   2. 通过进程类创建进程对象

      进程对象 = multiprocessing.Process()

   3. 启动进程执行任务

      进程对象.start()

2. 通过进程类创建进程对象

   进程对象 = multiprocessing.Process(target = 任务名)

   | 参数名 | 说明                                       |
   | ------ | ------------------------------------------ |
   | target | 执行目标任务名，这里指的是函数名（方法名） |
   | name   | 进程名，一般不用设置                       |
   | group  | 进程组，目前只能使用None                   |

3. 进程创建与启动的代码

   ~~~python
   # 创建子进程
   coding_process = multiprocessing.Process(target=coding)
   # 创建子进程
   music_process = multiprocessing.Process(target=music)
   # 启动进程
   coding_process.start()
   music_process.strat()
   ~~~

   

#### 4.进程执行带有参数的任务

1. 两个参数名

   | 参数名 | 说明                       |
   | ------ | -------------------------- |
   | args   | 以元组的方式给执行任务传参 |
   | kwargs | 以字典的方式给执行任务传参 |

2. args参数的使用

   ~~~python
   # target：进程执行的函数名
   # args：表示以元组的方式给函数传参(一定要加,  说明是以元组方式传参)
   conding_process = multiprocessing.Process(target=coding,args=(3,))
   coding_process.start()
   ~~~

3. kwargs参数的使用

   ~~~python
   # target：进程执行的函数名
   # args：表示以字典的方式给函数传参
   music_process = multiprocessing.Process(target=music,kwargs={"num":3})
   music_process.start()
   ~~~



### 4、获取进程编号

1. 进程编号的作用：

   当程序中进程的数量越来越多，就无法区分主进程和子进程还有不同的子进程。实际上为了方便管理每个进程都是有自己的编号的，通过获取进程编号就可以快速区分不同进程

2. 获取进程编号：

   ~~~python
   # 获取当前进程编号
   getpid()
   # 获取当前父进程编号
   getppid()
   ~~~

3. os.getpid()使用

   ~~~python
   import os
   def work():
       # 获取当前进程的编号
       print("work进程编号：",os.getpid())
       # 获取当前父进程的编号
       print("work父进程编号：",os.getppid())
   ~~~



### 5、进程间不共享全局变量

进程间是不共享全局变量的。

实际上创建一个子进程就是把主进程的资源进行拷贝产生一个新进程，这里主进程和子进程是**互相独立**的

~~~python
import multiprocessing

# 全局变量
my_list = []
def write_data(my_list):
  # 遍历从0到9的整数
  for i in range(10):
    # 将当前整数添加到列表my_list中
    my_list.append(i)
    # 打印当前写入的数据
    print("写入数据：", i)
  # 打印最终列表的内容
  print(my_list)
def read_data(my_list):
  print(my_list)

if __name__ == '__main__':
  # 创建写入数据进程
  write_process = multiprocessing.Process(target=write_data, args=(my_list,))
  read_process = multiprocessing.Process(target=read_data, args=(my_list,))
  # 创建读取数据进程
  write_process.start()
  read_process.start()
  # 等待写入数据进程结束
  write_process.join()
  # 等待读取数据进程结束
  read_process.join()
~~~

![image-20250222155133356](img/image-20250222155133356.png)

创建子进程会对主进程资源进行拷贝，也就是说子进程是主进程的一个副本，好比是一对双胞胎，之所以进程之间不共享全局变量，是因为操作的不是同一个进程里面的全局变量，只不过不同进程里面的全局变量名字相同而已



### 6、主进程和子进程的结束顺序

![image-20250222155535730](img/image-20250222155535730.png)

1. 主进程会等所有子进程执行结束再结束（电脑会等所有程序关闭完之后再关闭）

   ~~~python
   import multiprocessing
   import time
   
   # 工作函数
   def work():
     for i in range(10):
       print("子进程正在工作:", i)
       time.sleep(0.2)
   
   if __name__ == '__main__':
     # 创建子进程
     work_process = multiprocessing.Process(target=work)
     # 启动子进程
     work_process.start()
   
     # 延时一秒钟
     time.sleep(1)
     print("主进程结束")
   ~~~

2. 设置守护主进程

   ~~~python
   
   ~~~

   

